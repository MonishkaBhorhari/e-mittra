
<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <title>Post a Service</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>-->
<!--    <style>-->
<!--        body { font-family: Arial, sans-serif; background-color: #f4f4f4; text-align: center; }-->
<!--        form { background: white; padding: 20px; display: inline-block; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }-->
<!--        input, button { margin: 10px 0; padding: 8px; width: 80%; }-->
<!--        img { max-width: 150px; height: auto; margin-top: 10px; border-radius: 5px; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<h1>Post a New Service</h1>-->
<!--<form th:action="@{/post-service}" method="post" enctype="multipart/form-data">-->
<!--    <label for="description">Description:</label>-->
<!--    <input type="text" id="description" name="description" required/><br/>-->

<!--    <label for="photoFile">Photo:</label>-->
<!--    <input type="file" id="photoFile" name="photoFile" accept="image/*" required/><br/>-->
<!--    <div>-->
<!--        <img th:src="@{/image/user.png}" id="thumbnail">-->
<!--    </div>-->

<!--    <label for="email">Email:</label>-->
<!--    <input type="email" id="email" name="email" required/><br/>-->

<!--    <label for="phoneNumber">Phone Number:</label>-->
<!--    <input type="text" id="phoneNumber" name="phoneNumber" required/><br/>-->

<!--    <label for="city">City:</label>-->
<!--    <input type="text" id="city" name="city" required/><br/>-->

<!--    <label for="price">Price:</label>-->
<!--    <input type="number" id="price" name="price" required/><br/>-->

<!--    <label for="rating">Rating (0-5):</label>-->
<!--    <input type="number" id="rating" name="rating" step="0.1" min="0" max="5" required/><br/>-->

<!--    <button type="submit">Post Service</button>-->
<!--</form>-->
<!--<script>-->
<!--    $(document).ready(function () {-->
<!--        $('#photoFile').on('change', function () {-->
<!--            var file = this.files[0];-->

<!--            if (file) {-->
<!--                if (file.size > 1024 * 1024) {  // 1MB limit-->
<!--                    alert("File size must be 1MB or less!");-->
<!--                    $(this).val('');  // Clear the file input-->
<!--                    $('#thumbnail').attr('src', '/images/user.png');  // Reset thumbnail-->
<!--                    return;-->
<!--                }-->

<!--                showThumbnail(this);-->
<!--            }-->
<!--        });-->
<!--    });-->

<!--    function showThumbnail(fileInput) {-->
<!--        var file = fileInput.files[0];-->
<!--        if (file) {-->
<!--            var reader = new FileReader();-->
<!--            reader.onload = function (e) {-->
<!--                $('#thumbnail').attr('src', e.target.result);-->
<!--            };-->
<!--            reader.readAsDataURL(file);-->
<!--        }-->
<!--    }-->
<!--</script>-->

<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Service Provider Dashboard</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0; }
        .container { width: 90%; margin: auto; padding: 20px; }
        h1 { text-align: center; color: #333; }
        .form-container, .service-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        input, button { margin: 8px 0; padding: 10px; width: 90%; border: 1px solid #ccc; border-radius: 5px; }
        img { max-width: 120px; height: auto; border-radius: 5px; }
        .service-card { position: relative; }
        .actions button { margin-right: 10px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        .actions button.delete { background-color: #f44336; }
        .actions button:hover { opacity: 0.9; }
        .thumbnail-preview { margin-top: 10px; }
    </style>
</head>
<body>
<div class="container">
    <h1>Service Provider Dashboard</h1>

    <!-- Post Service Form -->
    <div class="form-container">
        <h2>Post a New Service</h2>
        <form th:action="@{/post-service}" method="post" enctype="multipart/form-data">
            <input type="text" name="description" placeholder="Service Description" required>
            <input type="file" id="photoFile" name="photoFile" accept="image/*" required>
            <div class="thumbnail-preview">
                <img id="thumbnail" th:src="@{/image/user.png}" alt="Thumbnail Preview">
            </div>
            <input type="email" name="email" placeholder="Email" required>
            <input type="text" name="phoneNumber" placeholder="Phone Number" required>
            <input type="text" name="city" placeholder="City" required>
            <input type="number" name="price" placeholder="Price" required>
            <input type="number" name="rating" step="0.1" min="0" max="5" placeholder="Rating (0-5)" required>
            <button type="submit">Post Service</button>
        </form>
    </div>

    <!-- Service Listings (Dummy for Display Purpose) -->
    <div class="service-card" th:each="service : ${services}">
        <h3 th:text="${service.description}"></h3>
        <p>Email: <span th:text="${service.email}"></span></p>
        <p>Phone: <span th:text="${service.phoneNumber}"></span></p>
        <p>City: <span th:text="${service.city}"></span></p>
        <p>Price: <span th:text="${service.price}"></span></p>
        <p>Rating: <span th:text="${service.rating}"></span></p>
        <img th:src="@{${service.photoUrl}}" alt="Service Photo">

        <!-- Update & Delete Actions -->
        <div class="actions">
            <button th:onclick="|window.location.href='@{/update-service/{id}(id=${service.id})}'|">Update</button>
            <button class="delete" th:onclick="|if(confirm('Are you sure you want to delete this service?')) window.location.href='@{/delete-service/{id}(id=${service.id})}'|">Delete</button>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#photoFile').on('change', function () {
            var file = this.files[0];
            if (file && file.size <= 1024 * 1024) { // 1MB limit
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#thumbnail').attr('src', e.target.result);
                };
                reader.readAsDataURL(file);
            } else {
                alert('File size must be 1MB or less.');
                $('#photoFile').val('');
            }
        });
    });
</script>
</body>
</html>